{"version":3,"file":"static/js/264.5ac058a8.chunk.js","mappings":"qMAiEA,UAvDc,WACZ,OAA4CA,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,mBAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAGMC,GADWC,EAAAA,EAAAA,MACgBC,OAAOC,QAAQ,WAAY,KAO5DC,EAAAA,EAAAA,YAAU,YACJJ,GAAmBP,KACrBY,EAAAA,EAAAA,IAAeL,GAAmBP,GAAgBa,MAAK,SAAAC,GACrDX,EAASW,EAAGC,KAAKC,QAClB,GAEJ,GAAE,IAgBH,OACE,4BACE,kBAAMC,SAhBW,SAAAH,GACnBA,EAAGI,kBAECX,GAAmBP,KACrBY,EAAAA,EAAAA,IAAeL,GAAmBP,GAAgBa,MAAK,SAAAC,GACrDX,EAASW,EAAGC,KAAKC,QAClB,IAGHV,EAAgB,CAAEa,MAAOnB,IACzBC,EAAkB,IAClBmB,QAAQC,IAAIhB,EACb,EAIG,WACE,kBAAOiB,KAAK,OAAOC,SA9BL,SAAAT,GAClB,IAAQU,EAAUV,EAAGW,cAAbD,MACRvB,EAAkBuB,EAAME,cACzB,EA2B+CF,MAAOxB,KACjD,mBAAQsB,KAAK,SAAb,uBAEDpB,EAAMyB,OAAS,IACd,wBACGzB,EAAM0B,KAAI,gBAAGC,EAAH,EAAGA,eAAgBC,EAAnB,EAAmBA,GAAnB,OACT,yBACE,SAAC,EAAAC,KAAD,CAAMC,GAAE,kBAAaF,GAArB,SAA4BD,KADrBC,EADA,OAOf,SAAC,KAAD,MAGL,C","sources":["elements/Movie.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport {\n  Outlet,\n  Link,\n  useSearchParams,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { getMovieByName } from 'constants/dafaultApi';\n\nconst Movie = () => {\n  const [imageNameInput, setImageNameInput] = useState('');\n  const [films, setFilms] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n  const fromQueryString = location.search.replace(/\\?query=/, '');\n\n  const inputChange = el => {\n    const { value } = el.currentTarget;\n    setImageNameInput(value.toLowerCase());\n  };\n\n  useEffect(() => {\n    if (fromQueryString || imageNameInput) {\n      getMovieByName(fromQueryString || imageNameInput).then(el => {\n        setFilms(el.data.results);\n      });\n    }\n  }, []);\n\n  const handleSubmit = el => {\n    el.preventDefault();\n\n    if (fromQueryString || imageNameInput) {\n      getMovieByName(fromQueryString || imageNameInput).then(el => {\n        setFilms(el.data.results);\n      });\n    }\n\n    setSearchParams({ query: imageNameInput });\n    setImageNameInput('');\n    console.log(searchParams);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" onChange={inputChange} value={imageNameInput} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {films.length > 0 && (\n        <ul>\n          {films.map(({ original_title, id }) => (\n            <li key={id}>\n              <Link to={`/movies/${id}`}>{original_title}</Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      <Outlet />\n    </div>\n  );\n};\n\nexport default Movie;\n"],"names":["useState","imageNameInput","setImageNameInput","films","setFilms","useSearchParams","searchParams","setSearchParams","fromQueryString","useLocation","search","replace","useEffect","getMovieByName","then","el","data","results","onSubmit","preventDefault","query","console","log","type","onChange","value","currentTarget","toLowerCase","length","map","original_title","id","Link","to"],"sourceRoot":""}